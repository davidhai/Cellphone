<meta name='viewport' content='width=device-width, initial-scale=1'/><meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ×œ×•× ×¤×•×Ÿ - ××¢×¨×›×ª × ×™×”×•×œ ××ª×§×“××ª</title>
    
    <!-- React & Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#1a1a1a',
                            card: '#2d2d2d',
                            text: '#e5e5e5'
                        }
                    }
                }
            }
        }
    </script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Firebase Compat Library -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>

    <style>
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .pop-up { animation: popUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes popUp {
            from { opacity: 0; transform: scale(0.8) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .pulse-red { animation: pulseRed 1.5s infinite; }
        @keyframes pulseRed {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
        }

        /* Chat Bot Animations */
        .chat-slide-up { animation: slideUp 0.3s ease-out forwards; }
        @keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans transition-colors duration-300">
    <div id="error-display" style="display:none; padding:20px; background:white; color:red; border-bottom:2px solid red;"></div>
    
    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            var errorDiv = document.getElementById('error-display');
            errorDiv.style.display = 'block';
            errorDiv.innerHTML += '<strong>×©×’×™××”:</strong> ' + message + '<br><small>' + source + ':' + lineno + '</small><br><br>';
        };
    </script>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ×”×’×“×¨×•×ª Firebase ---
        const firebaseConfig = {
            apiKey: "AIzaSyAIxnlQvXqXbBs4w9F-PZPJcG8OGOzYey4",
            authDomain: "laloumphone-a38c9.firebaseapp.com",
            projectId: "laloumphone-a38c9",
            storageBucket: "laloumphone-a38c9.firebasestorage.app",
            messagingSenderId: "555557527628",
            appId: "1:555557527628:web:df2f5c2710aaa8c25d54e9"
        };

        let db = null;
        try {
            if (firebase && !firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();
                console.log("Firebase initialized successfully");
            } else if (firebase && firebase.apps.length) {
                db = firebase.firestore();
            }
        } catch (error) {
            console.error("Firebase init failed:", error);
        }

        // --- ××™×™×§×•× ×™× ---
        const Zap = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>;
        const Smartphone = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>;
        const ShieldCheck = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path><path d="m9 12 2 2 4-4"></path></svg>;
        const Wifi = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>;
        const MenuIcon = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" y1="12" x2="20" y2="12"></line><line x1="4" y1="6" x2="20" y2="6"></line><line x1="4" y1="18" x2="20" y2="18"></line></svg>;
        const XIcon = ({size = 24}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>;
        const Check = ({size, strokeWidth}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>;
        const MessageCircle = ({size, className, fill}) => <svg width={size} height={size} viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>;
        const PhoneCall = ({size, strokeWidth}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth || 2} strokeLinecap="round" strokeLinejoin="round"><path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>;
        const Layers = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>;
        const Signal = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 20h.01"/><path d="M7 20v-4"/><path d="M12 20v-8"/><path d="M17 20V8"/><path d="M22 20V4"/></svg>;
        const Clock = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>;
        const EditIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>;
        const TrashIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>;
        const PlusIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const Loader = ({size}) => <svg className="animate-spin text-blue-600" width={size} height={size} xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle><path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>;
        const MoonIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>;
        const SunIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>;
        const RobotIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="10" rx="2"></rect><circle cx="12" cy="5" r="2"></circle><path d="M12 7v4"></path><line x1="8" y1="16" x2="8" y2="16"></line><line x1="16" y1="16" x2="16" y2="16"></line></svg>;
        const SendIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>;
        const MailIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>;
        const SettingsIcon = ({size}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>;

        const SmartLogo = ({ src, alt, fallbackText }) => {
            const [error, setError] = useState(false);
            if (error || !src) return <div className="w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-300 font-bold rounded-full text-xs text-center p-1">{fallbackText}</div>;
            return <img src={src} alt={alt} className="w-full h-full object-contain" onError={() => setError(true)} />;
        };

        // --- × ×ª×•× ×™ ×’×™×‘×•×™ ---
        const initialPlansData = [
            // 5G Plans
            { id: 'p5g-1', category: '5G', provider: 'Partner', providerName: 'Partner Queen 5G', color: 'bg-teal-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ-3 ×—×•×“×©×™× ×¨××©×•× ×™×)', afterPrice: '××—×•×“×© 4: 49.9 â‚ª', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '500GB ×’×œ×™×©×”', '400 ×“×§×•×ª ×©×™×—×” ×œ×—×•×´×œ'], isHot: true },
            { id: 'p5g-2', category: '5G', provider: 'Partner', providerName: 'Partner King 5G', color: 'bg-teal-500', price: '59.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ ×œ×—×•×“×©', features: ['6000 ×“×§×•×ª / 6000 ×”×•×“×¢×•×ª', '800GB ×’×œ×™×©×”', '500 ×“×§×•×ª ×©×™×—×” ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10 â‚ª'], isHot: false },
            { id: 'p5g-3', category: '5G', provider: 'Partner', providerName: 'Partner Golden 5G', color: 'bg-teal-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '×œ××—×¨ ×©× ×”: 59.9 â‚ª', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '500GB ×’×œ×™×©×”', '200 ×“×§×•×ª ×©×™×—×” ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 9.9 â‚ª'], isHot: false },
            { id: 'c5g-1', category: '5G', provider: 'Cellcom', providerName: '5G Pro (×›×•×œ×œ ×—×•×´×œ)', color: 'bg-purple-700', price: '119.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ ×œ×—×•×“×©', features: ['1500GB ×’×œ×™×©×”', '5GB ×’×œ×™×©×” ×‘×—×•×´×œ', '50 ×“×§×•×ª/SMS ××—×•×´×œ ×œ×™×©×¨××œ', '×œ×œ× ×¢×œ×•×ª ×¡×™×', '×’×œ×™×©×” ×—×•×¤×©×™×ª ×‘××¤×œ×™×§×¦×™×•×ª'], isHot: false },
            { id: 'c5g-2', category: '5G', provider: 'Cellcom', providerName: '×¡×œ×§×•× ××©×ª×œ× 5G', color: 'bg-purple-700', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ×—×•×“×©×™×™× ×¨××©×•× ×™×)', afterPrice: '××—"×›: 59.9 ×œ×× ×•×™ (××• 49.9 ×œ-2+ ×× ×•×™×™×)', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '800GB ×’×œ×™×©×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×¡×™× ×‘×—×™×•×‘-×–×™×›×•×™'], isHot: true },
            { id: 'h5g-1', category: '5G', provider: 'HotMobile', providerName: 'Basic 5G', color: 'bg-red-600', price: '45.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '37 â‚ª ×‘×¦×™×¨×•×£ 3 ×× ×•×™×™× ×•××¢×œ×”', features: ['4000 ×“×§×•×ª / 4000 ×”×•×“×¢×•×ª', '600GB ×’×œ×™×©×”', '150 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: false },
            { id: 'h5g-2', category: '5G', provider: 'HotMobile', providerName: '5G Premium (×—×•×´×œ)', color: 'bg-red-600', price: '109.9', priceDetail: '××—×™×¨ ×œ×—×•×“×©', features: ['10,000 ×“×§×•×ª ×•×”×•×“×¢×•×ª', '3000GB ×’×œ×™×©×”!', '500 ×“×§×•×ª ×œ×—×•×´×œ', '10GB ×’×œ×™×©×” ×‘×—×•×´×œ', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },
            { id: 'h5g-3', category: '5G', provider: 'HotMobile', providerName: 'Basic 5G 800GB', color: 'bg-red-600', price: '32.9', priceDetail: '×œ×—×•×“×© (×œ×—×•×“×©×™×™× ×¨××©×•× ×™×)', afterPrice: '××—"×›: 52.9 ×œ××©×š ×©× ×ª×™×™×', features: ['4000 ×“×§×•×ª / 4000 ×”×•×“×¢×•×ª', '800GB ×’×œ×™×©×”', '100 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: true },
            { id: 'h5g-4', category: '5G', provider: 'HotMobile', providerName: 'HOT 5G Social', color: 'bg-red-600', price: '39.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ (35 ×œ-2+ ×§×•×•×™×)', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '300GB ×’×œ×™×©×”', '×’×œ×™×©×” ×—×•×¤×©×™×ª ×‘×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },
            { id: 'h5g-5', category: '5G', provider: 'HotMobile', providerName: '5G Plus + NEXT TV', color: 'bg-red-600', price: '59.9', priceDetail: '×œ××©×š 3 ×©× ×™× (×—×•×“×© 1 ×—×™× ×)', features: ['1500GB ×’×œ×™×©×”', '×›×•×œ×œ ××¤×œ×™×§×¦×™×™×ª NEXT TV', '5000 ×“×§×•×ª ×•×”×•×“×¢×•×ª', '×’×œ×™×©×” ×—×•×¤×©×™×ª ×‘×¨×©×ª×•×ª'], isHot: true, badge: '×›×•×œ×œ TV' },
            { id: 'pel5g-1', category: '5G', provider: 'Pelephone', providerName: '5G Together', color: 'bg-blue-500', price: '39', priceDetail: '×œ×—×•×“×© (×‘×•×“×“)', afterPrice: '35 ×œ-2 ×§×•×•×™× / 33 ×œ-3 ×§×•×•×™×', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '500GB ×’×œ×™×©×”', '×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª ×—×•×¤×©×™', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'pel5g-2', category: '5G', provider: 'Pelephone', providerName: '800GB 5G Plus', color: 'bg-blue-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '800GB ×’×œ×™×©×”', '×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª ×—×•×¤×©×™', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },
            { id: 'pel5g-3', category: '5G', provider: 'Pelephone', providerName: '5G Max VIP All', color: 'bg-blue-500', price: '44.9', priceDetail: '×œ×—×•×“×© (×œ×—×•×“×©×™×™× ×¨××©×•× ×™×)', afterPrice: '××—"×›: 59.9 ×œ××©×š ×©× ×ª×™×™×', features: ['2000GB ×’×œ×™×©×” ×¢× ×§×™×ª', '5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },
            { id: 'pel5g-4', category: '5G', provider: 'Pelephone', providerName: '1000GB 5G All In', color: 'bg-blue-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ×—×¦×™ ×©× ×”)', afterPrice: '××—"×›: 49.9 ×œ××©×š ×©× ×ª×™×™×', features: ['1000GB ×’×œ×™×©×”', '5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'gol5g-1', category: '5G', provider: 'Golan', providerName: 'Golan 5G ×–×•×’×™', color: 'bg-pink-600', price: '39', priceDetail: '××—×™×¨ ×§×‘×•×¢ (35 ×œ-2+ ×× ×•×™×™×)', features: ['5000 ×“×§×•×ª / 5000 ×”×•×“×¢×•×ª', '750GB ×’×œ×™×©×”', '300 ×“×§×•×ª ×œ×—×•×´×œ', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'we5g-1', category: '5G', provider: 'WeCom', providerName: 'Global 5G', color: 'bg-orange-500', price: '59.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ ×œ×œ× ×”×’×‘×œ×”', afterPrice: '×“××™ ×—×™×‘×•×¨ ×—×“ ×¤×¢××™: 79.9', features: ['10,000GB ×’×œ×™×©×” (10TB)', '5GB ×’×œ×™×©×” ×‘×—×•×´×œ', '3000 ×“×§×•×ª/×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'we5g-2', category: '5G', provider: 'WeCom', providerName: 'Free 5G Max', color: 'bg-orange-500', price: '39.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ (36 ×œ-2+ ×× ×•×™×™×)', features: ['10,000GB ×’×œ×™×©×” (10TB)', '3000 ×”×•×“×¢×•×ª / 5000 ×“×§×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'we5g-3', category: '5G', provider: 'WeCom', providerName: '300GB 5G', color: 'bg-orange-500', price: '34', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', features: ['300GB ×’×œ×™×©×”', '3000 ×”×•×“×¢×•×ª / 5000 ×“×§×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },

            // 4G Plans
            { id: 'p4g-1', category: '4G', provider: 'Partner', providerName: 'Partner Star 4G', color: 'bg-teal-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '30 â‚ª ×‘×¦×™×¨×•×£ 2 ×× ×•×™×™× ×•××¢×œ×”', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '×¢×œ×•×ª ×¡×™×: 9.9 â‚ª'], isHot: false },
            { id: 'pel4g-1', category: '4G', provider: 'Pelephone', providerName: '300GB Perfect', color: 'bg-blue-500', price: '29.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['3000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '300GB ×’×œ×™×©×”', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'pel4g-2', category: '4G', provider: 'Pelephone', providerName: '400GB Family', color: 'bg-blue-500', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '×”× ×—×•×ª ×œ××©×¤×—×” (×¢×“ 28 â‚ª ×œ×§×•)', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '×œ×œ× ×¢×œ×•×ª ×¡×™×', '×”× ×—×” ×œ-2 ×× ×•×™×™× ×•××¢×œ×”'], isHot: false },
            { id: 'c4g-1', category: '4G', provider: 'Cellcom', providerName: '×¡×œ×§×•× ××•×©×œ× 4G', color: 'bg-purple-700', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '34.9 â‚ª ×‘×¦×™×¨×•×£ 3 ×§×•×•×™× ×•××¢×œ×”', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '150 ×“×§×•×ª ×œ×—×•×´×œ'], isHot: false },
            { id: 'c4g-2', category: '4G', provider: 'Cellcom', providerName: '×¡×œ×§×•× ××§×¡×˜×¨×” 4G', color: 'bg-purple-700', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '500 ×“×§×•×ª ×œ×—×•×´×œ'], isHot: true },
            { id: 'h4g-1', category: '4G', provider: 'HotMobile', providerName: 'HOT 200GB', color: 'bg-red-600', price: '27.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['3000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '200GB ×’×œ×™×©×”', '100 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: true },
            { id: 'h4g-2', category: '4G', provider: 'HotMobile', providerName: 'HOT Top 400GB', color: 'bg-red-600', price: '39.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '30 â‚ª ×‘×¦×™×¨×•×£ 3 ×× ×•×™×™× ×•××¢×œ×”', features: ['3500 ×“×§×•×ª / 3500 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '150 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: false },
            { id: 'h4g-3', category: '4G', provider: 'HotMobile', providerName: 'HOT Top 250GB', color: 'bg-red-600', price: '29.9', priceDetail: '×œ×—×•×“×©', afterPrice: '25 â‚ª ×‘×¦×™×¨×•×£ 2 ×× ×•×™×™× ×•××¢×œ×”', features: ['3000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '250GB ×’×œ×™×©×”', '100 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: false },
            { id: 'h4g-4', category: '4G', provider: 'HotMobile', providerName: 'HOT Top 150GB', color: 'bg-red-600', price: '25.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['3000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '150GB ×’×œ×™×©×”', '100 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: false },
            { id: 'gol4g-1', category: '4G', provider: 'Golan', providerName: '×’×•×œ×Ÿ 2 ×§×•×•×™× ×‘-60', color: 'bg-pink-600', price: '30', priceDetail: '×œ×§×• (××•×ª× ×” ×‘-2 ×§×•×•×™×)', afterPrice: '×ª×•×›× ×™×ª ×™×—×™×“ ×œ×œ× ×ª× ××™: 29.9 â‚ª', features: ['4000 ×“×§×•×ª / 4000 ×”×•×“×¢×•×ª', '350GB ×’×œ×™×©×”', '×¢×œ×•×ª ×¡×™×: 1 â‚ª'], isHot: true },
            { id: 'gol4g-2', category: '4G', provider: 'Golan', providerName: '×’×•×œ×Ÿ ××‘×¦×¢ ×—×•×“×©×™×™×', color: 'bg-pink-600', price: '24.9', priceDetail: '×œ×—×•×“×©×™×™× ×¨××©×•× ×™×', afterPrice: '×”×—×œ ××—×•×“×© 3: 34.9 â‚ª', features: ['4000 ×“×§×•×ª / 4000 ×”×•×“×¢×•×ª', '400GB ×’×œ×™×©×”', '240 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 1 â‚ª'], isHot: false },
            { id: 'we4g-1', category: '4G', provider: 'WeCom', providerName: 'WeFunGlobal 4G', color: 'bg-orange-500', price: '49.9', priceDetail: '××—×™×¨ ×§×‘×•×¢ ×œ×œ× ×”×’×‘×œ×”', afterPrice: '×“××™ ×—×™×‘×•×¨ ×—×“ ×¤×¢××™: 79.9', features: ['7000GB ×’×œ×™×©×” (7TB)', '5GB ×’×œ×™×©×” ×‘×—×•×´×œ', '3000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'we4g-2', category: '4G', provider: 'WeCom', providerName: 'Free 4G', color: 'bg-orange-500', price: '34.9', priceDetail: '××—×™×¨ ×§×‘×•×¢', afterPrice: '2 ×× ×•×™×™× ×•××¢×œ×”: 29.9 â‚ª', features: ['10,000GB ×’×œ×™×©×” (10TB)', '5000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'we4g-3', category: '4G', provider: 'WeCom', providerName: '300GB 4G', color: 'bg-orange-500', price: '28', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', features: ['300GB ×’×œ×™×©×”', '5000 ×“×§×•×ª / 3000 ×”×•×“×¢×•×ª', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: false },

            // Kosher Plans
            { id: 'k-par-1', category: 'Kosher', provider: 'Partner', providerName: 'New Kosher Partner', color: 'bg-teal-500', price: '29.9', priceDetail: '×œ×—×•×“×© ×œ×œ× ×”×’×‘×œ×”', afterPrice: '25 â‚ª ×‘×¦×™×¨×•×£ 2 ×× ×•×™×™× ×•××¢×œ×”', features: ['6000 ×“×§×•×ª ×©×™×—×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 9.9 â‚ª'], isHot: false },
            { id: 'k-pel-1', category: 'Kosher', provider: 'Pelephone', providerName: '×¤×œ××¤×•×Ÿ ×›×©×¨', color: 'bg-blue-500', price: '29.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', afterPrice: '20 â‚ª ×‘×¦×™×¨×•×£ 2 ×× ×•×™×™× ×•××¢×œ×”', features: ['4000 ×“×§×•×ª ×©×™×—×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×œ×œ× ×¢×œ×•×ª ×¡×™×'], isHot: true },
            { id: 'k-cel-1', category: 'Kosher', provider: 'Cellcom', providerName: '×¡×œ×§×•× ×›×©×¨', color: 'bg-purple-700', price: '29', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', afterPrice: '25 â‚ª ×‘×¦×™×¨×•×£ 2 ×§×•×•×™× ×•××¢×œ×”', features: ['4000 ×“×§×•×ª ×©×™×—×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 9.9 â‚ª'], isHot: false },
            { id: 'k-cel-2', category: 'Kosher', provider: 'Cellcom', providerName: '×›×©×¨ ××§×¡×˜×¨×”', color: 'bg-purple-700', price: '35', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', afterPrice: '30 â‚ª ×‘×¦×™×¨×•×£ 2 ×§×•×•×™× ×•××¢×œ×”', features: ['5000 ×“×§×•×ª ×©×™×—×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×¡×™× ×›×©×¨'], isHot: true },
            { id: 'k-hot-1', category: 'Kosher', provider: 'HotMobile', providerName: 'Kosher 5000M', color: 'bg-red-600', price: '26', priceDetail: '×œ×—×•×“×© ×œ×œ× ×”×’×‘×œ×”', afterPrice: '25 â‚ª ×‘×¦×™×¨×•×£ 2 ×§×•×•×™× ×•××¢×œ×”', features: ['5000 ×“×§×•×ª ×©×™×—×”', '700 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: true },
            { id: 'k-hot-2', category: 'Kosher', provider: 'HotMobile', providerName: 'Kosher 10000M', color: 'bg-red-600', price: '39', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', afterPrice: '×—×•×“×© 1 ×—×™× ×! 30 â‚ª ×œ-2 ×§×•×•×™× ×•××¢×œ×”', features: ['10,000 ×“×§×•×ª ×©×™×—×”', '700 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 10.9 â‚ª'], isHot: false },
            { id: 'k-gol-1', category: 'Kosher', provider: 'Golan', providerName: '×›×©×¨ ××§×¡×˜×¨×”', color: 'bg-pink-600', price: '27.9', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', features: ['7000 ×“×§×•×ª ×©×™×—×”', '500 ×“×§×•×ª ×œ×—×•×´×œ', '×¢×œ×•×ª ×¡×™×: 1 â‚ª'], isHot: true },
            { id: 'k-gol-2', category: 'Kosher', provider: 'Golan', providerName: '×’×•×œ×Ÿ ×›×©×¨', color: 'bg-pink-600', price: '25', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×ª×™×™×)', features: ['5000 ×“×§×•×ª ×©×™×—×”', '×œ×œ× ×’×œ×™×©×”/SMS', '×¢×œ×•×ª ×¡×™×: 1 â‚ª'], isHot: false },

            // Fiber & TV Plans
            { id: '31', category: 'Fiber', provider: 'Cellcom', providerName: '×¡×œ×§×•× ×¤×™×™×‘×¨', color: 'bg-purple-700', price: '39', priceDetail: '×œ×—×•×“×© (×œ××©×š 3 ×—×•×“×©×™×)', afterPrice: '××—×™×¨ ×”××©×š 99 â‚ª', features: ['××™× ×˜×¨× ×˜ ×¡×™×‘×™× ×¢×•×¦××ª×™', '×¨××•×˜×¨ WiFi 7 ×›×œ×•×œ', '××’×“×™×œ ×˜×•×•×— ×›×œ×•×œ!', '×”×ª×§× ×” ××”×™×¨×”'], isHot: true, badge: '××‘×¦×¢ ××˜×•×¨×£' },
            { id: '32', category: 'Fiber', provider: 'Cellcom', providerName: '×¡×œ×§×•× ×˜×¨×™×¤×œ', color: 'bg-purple-700', price: '89', priceDetail: '×œ×—×•×“×© (×œ××©×š 3 ×—×•×“×©×™×)', afterPrice: '××—×™×¨ ×”××©×š 149 â‚ª', features: ['×˜×œ×•×•×™×–×™×” + ××™× ×˜×¨× ×˜ ×¡×™×‘×™×', '×¨××•×˜×¨ WiFi 7 ×›×œ×•×œ', '××’×“×™×œ ×˜×•×•×— ×›×œ×•×œ', '×××™×¨ ××—×“ ×›×œ×•×œ ×‘××—×™×¨'], isHot: true, badge: '×˜×¨×™×¤×œ ×©×•×‘×¨ ×©×•×§' },
            { id: '33', category: 'Fiber', provider: 'Hot', providerName: 'HOT ×¡×™×‘×™× 1000/100 ××’×”', color: 'bg-red-600', price: '99', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['××”×™×¨×•×ª ×”×•×¨×“×” ×¢×“ 1000Mbps', '××”×™×¨×•×ª ×”×¢×œ××” ×¢×“ 100Mbps', '× ×ª×‘ ×•××’×“×™×œ ×˜×•×•×— ×›×œ×•×œ ×‘××—×™×¨', '×”×ª×§× ×” ×—×™× × (×‘× ×™×™×Ÿ ×“×™×¨×•×ª)', '×¢×œ×•×ª ×”×ª×§× ×” ×‘×™×ª ×¤×¨×˜×™: 125 â‚ª', '×§×•×“ ××‘×¦×¢: TBA'], isHot: false },
            { id: '34', category: 'Fiber', provider: 'Hot', providerName: 'HOT ×¡×™×‘×™× 600/100 ××’×”', color: 'bg-red-600', price: '89', priceDetail: '×œ×—×•×“×© (×œ××©×š ×©× ×”)', features: ['××”×™×¨×•×ª ×”×•×¨×“×” ×¢×“ 600Mbps', '××”×™×¨×•×ª ×”×¢×œ××” ×¢×“ 100Mbps', '× ×ª×‘ ×•××’×“×™×œ ×˜×•×•×— ×›×œ×•×œ ×‘××—×™×¨', '×”×ª×§× ×” ×—×™× × (×‘× ×™×™×Ÿ ×“×™×¨×•×ª)', '×¢×œ×•×ª ×”×ª×§× ×” ×‘×™×ª ×¤×¨×˜×™: 125 â‚ª', '×§×•×“ ××‘×¦×¢: TBA'], isHot: false },
            { id: '35', category: 'Fiber', provider: 'Hot', providerName: 'HOT ×˜×¨×™×¤×œ NEXT + ×¡×™×‘×™× 1000', color: 'bg-red-600', price: '135', priceDetail: '×œ×—×•×“×©', features: ['××™× ×˜×¨× ×˜ ×¡×™×‘×™× 1000Mbps', '×˜×œ×•×•×™×–×™×” NEXT ×¢× VOD', '×›×•×œ×œ 1 ×¡×˜×¨×™××¨ ×¢× 65 ×¢×¨×•×¦×™×', '×›×œ×•×œ ×‘××—×™×¨: ×¨××•×˜×¨ ×•××’×“×™×œ ×˜×•×•×—', '×›×œ ×¡×˜×¨×™××¨ × ×•×¡×£: 10 â‚ª ×œ×—×•×“×©', '×“××™ ×”×ª×§× ×”: 120 â‚ª ×—×“ ×¤×¢××™', '×¢×œ×•×ª ×”×ª×§× ×” ×‘×‘×™×ª ×¤×¨×˜×™ ×©×™×© ×‘×• ×¡×™×‘×™×: 499 â‚ª ×—×“ ×¤×¢××™', '×§×•×“ ××‘×¦×¢: NBO'], isHot: true, badge: '×”×›×œ ×›×œ×•×œ' },
        ];

        // --- ×¨×›×™×‘ ×‘×•×˜ AI ---
        const AIChatBot = ({ plans }) => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([
                { sender: 'bot', text: '×”×™×™! ×× ×™ ×”×¢×•×–×¨ ×”×—×›× ×©×œ ×œ×œ×•× ×¤×•×Ÿ ğŸ¤–. ××™×š ××¤×©×¨ ×œ×¢×–×•×¨ ×œ×š ×”×™×•×?' }
            ]);
            const [input, setInput] = useState('');
            const messagesEndRef = useRef(null);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(scrollToBottom, [messages]);

            const handleSend = (e) => {
                e.preventDefault();
                if (!input.trim()) return;

                const userMsg = { sender: 'user', text: input };
                setMessages(prev => [...prev, userMsg]);
                
                // ×œ×•×’×™×§×” ×¤×©×•×˜×” ×©×œ "AI"
                setTimeout(() => {
                    const response = generateAIResponse(input, plans);
                    setMessages(prev => [...prev, { sender: 'bot', text: response }]);
                }, 700);
                
                setInput('');
            };

            const generateAIResponse = (text, plans) => {
                const lower = text.toLowerCase();
                
                // ×—×™×¤×•×© ×œ×¤×™ ×—×‘×¨×•×ª
                const providers = ['partner', 'cellcom', 'pelephone', 'hotmobile', 'golan', 'wecom', 'hot'];
                const hebrewProviders = { '×¤×¨×˜× ×¨': 'Partner', '×¡×œ×§×•×': 'Cellcom', '×¤×œ××¤×•×Ÿ': 'Pelephone', '×”×•×˜': 'HotMobile', '×’×•×œ×Ÿ': 'Golan', '×•×™×§×•×': 'WeCom' };
                
                for (let [heb, eng] of Object.entries(hebrewProviders)) {
                    if (lower.includes(heb) || lower.includes(eng.toLowerCase())) {
                        const relevant = plans.filter(p => p.provider === eng && (p.category === '5G' || p.category === '4G'));
                        if (relevant.length > 0) {
                            const cheapest = relevant.sort((a,b) => parseFloat(a.price) - parseFloat(b.price))[0];
                            return `×™×© ×œ× ×• ${relevant.length} ×ª×•×›× ×™×•×ª ×©×œ ${heb}. ×”×›×™ ×–×•×œ×” ×”×™× ${cheapest.providerName} ×‘××—×™×¨ ${cheapest.price}â‚ª.`;
                        }
                    }
                }

                if (lower.includes('×–×•×œ') || lower.includes('××—×™×¨')) {
                    const cheapest = [...plans].sort((a,b) => parseFloat(a.price) - parseFloat(b.price))[0];
                    return `×”×ª×•×›× ×™×ª ×”×›×™ ×–×•×œ×” ×›×¨×’×¢ ×”×™× ${cheapest.providerName} ×‘××—×™×¨ ${cheapest.price}â‚ª.`;
                }

                if (lower.includes('×›×©×¨')) {
                    return "×™×© ×œ× ×• ××’×•×•×Ÿ ×ª×•×›× ×™×•×ª ×›×©×¨×•×ª! ×œ×—×¥ ×¢×œ ×§×˜×’×•×¨×™×™×ª '×§×• ×›×©×¨' ×‘×ª×¤×¨×™×˜ ×œ××¢×œ×”.";
                }
                
                if (lower.includes('×¡×™×‘×™×') || lower.includes('××™× ×˜×¨× ×˜')) {
                    return "×‘×•×•×“××™! ×™×© ×œ× ×• ×—×‘×™×œ×•×ª ×¡×™×‘×™× ×•×˜×œ×•×•×™×–×™×” ××©×ª×œ××•×ª. ×¢×‘×•×¨ ×œ×œ×©×•× ×™×ª '××™× ×˜×¨× ×˜ ×•-TV'.";
                }

                return "×× ×™ ×‘×•×˜ ×—×›×, ××‘×œ ×¢×“×™×™×Ÿ ×œ×•××“. × ×¡×” ×œ×©××•×œ ×¢×œ ×—×‘×¨×” ×¡×¤×¦×™×¤×™×ª (×œ××©×œ '×¡×œ×§×•×'), ×¢×œ '××—×™×¨ ×–×•×œ', ××• ×¢×œ '×§×• ×›×©×¨'.";
            };

            return (
                <div className="fixed bottom-24 right-6 z-50 flex flex-col items-end">
                    {isOpen && (
                        <div className="bg-white dark:bg-gray-800 border dark:border-gray-700 shadow-2xl rounded-2xl w-80 h-96 mb-4 flex flex-col overflow-hidden chat-slide-up">
                            <div className="bg-blue-600 p-3 text-white font-bold flex justify-between items-center">
                                <div className="flex items-center gap-2"><RobotIcon size={20}/> ×”×¢×•×–×¨ ×©×œ ×œ×œ×•× ×¤×•×Ÿ</div>
                                <button onClick={() => setIsOpen(false)}><XIcon size={18}/></button>
                            </div>
                            <div className="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50 dark:bg-gray-900">
                                {messages.map((msg, idx) => (
                                    <div key={idx} className={`p-3 rounded-xl max-w-[80%] text-sm ${msg.sender === 'user' ? 'bg-blue-100 text-blue-900 mr-auto rounded-br-none' : 'bg-white dark:bg-gray-700 dark:text-gray-100 shadow-sm ml-auto rounded-bl-none'}`}>
                                        {msg.text}
                                    </div>
                                ))}
                                <div ref={messagesEndRef} />
                            </div>
                            <form onSubmit={handleSend} className="p-3 border-t dark:border-gray-700 flex gap-2 bg-white dark:bg-gray-800">
                                <input 
                                    className="flex-1 border dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 dark:bg-gray-700 dark:text-white" 
                                    placeholder="×©××œ ××•×ª×™ ××©×”×•..." 
                                    value={input} 
                                    onChange={(e) => setInput(e.target.value)} 
                                />
                                <button type="submit" className="bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700"><SendIcon size={18}/></button>
                            </form>
                        </div>
                    )}
                    <button onClick={() => setIsOpen(!isOpen)} className="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-xl transition-transform hover:scale-105">
                        {isOpen ? <XIcon size={28}/> : <RobotIcon size={28}/>}
                    </button>
                </div>
            );
        };

        // --- ××•×“×œ ×™×¦×™×¨×ª ×§×©×¨ ---
        const ContactModal = ({ isOpen, onClose, onSend }) => {
            if (!isOpen) return null;
            
            const handleSubmit = (e) => {
                e.preventDefault();
                const formData = {
                    name: e.target.name.value,
                    phone: e.target.phone.value,
                    message: e.target.message.value,
                    date: new Date().toLocaleString()
                };
                onSend(formData);
                alert("×”×¤×¨×˜×™× × ×©×œ×—×• ×‘×”×¦×œ×—×”! × ×—×–×•×¨ ××œ×™×š ×‘×”×§×“×.");
                onClose();
            };

            return (
                <div className="fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm fade-in">
                    <div className="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-md p-6 relative shadow-2xl">
                        <button onClick={onClose} className="absolute top-4 left-4 text-gray-400 hover:text-gray-600"><XIcon /></button>
                        <h2 className="text-2xl font-bold mb-2 dark:text-white">×¦×•×¨ ×§×©×¨</h2>
                        <p className="text-gray-500 dark:text-gray-300 mb-6 text-sm">×”×©××™×¨×• ×¤×¨×˜×™× ×•× ×—×–×•×¨ ××œ×™×›× ×¢× ×”×”×¦×¢×” ×”××©×ª×œ××ª ×‘×™×•×ª×¨.</p>
                        
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1">×©× ××œ×</label>
                                <input name="name" type="text" required className="w-full border dark:border-gray-600 rounded-lg p-3 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none" placeholder="×™×©×¨××œ ×™×©×¨××œ×™" />
                            </div>
                            <div>
                                <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1">×˜×œ×¤×•×Ÿ</label>
                                <input name="phone" type="tel" required className="w-full border dark:border-gray-600 rounded-lg p-3 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none" placeholder="050-0000000" />
                            </div>
                            <div>
                                <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1">×”×•×“×¢×” (××•×¤×¦×™×•× ×œ×™)</label>
                                <textarea name="message" className="w-full border dark:border-gray-600 rounded-lg p-3 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none h-24" placeholder="×¢×œ ××™×–×• ×—×‘×™×œ×” ×¨×¦×™×ª ×œ×©××•×œ?"></textarea>
                            </div>
                            <button type="submit" className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-colors">×©×œ×— ×¤×¨×˜×™×</button>
                        </form>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [plans, setPlans] = useState(initialPlansData);
            const [loading, setLoading] = useState(true);
            const [view, setView] = useState('home'); // home, login, admin
            const [adminTab, setAdminTab] = useState('plans'); // plans, messages, popup
            
            const [activeCategory, setActiveCategory] = useState('5G');
            const [selectedProvider, setSelectedProvider] = useState('all');
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [showPopup, setShowPopup] = useState(false);
            const [password, setPassword] = useState('');
            const [isEditModalOpen, setIsEditModalOpen] = useState(false);
            const [currentPlan, setCurrentPlan] = useState(null);
            const [darkMode, setDarkMode] = useState(false);
            const [isContactOpen, setIsContactOpen] = useState(false);
            const [contactMessages, setContactMessages] = useState([]);

            // ×”×’×“×¨×•×ª ××•×“×¢×” ×§×•×¤×¦×ª - ××•×¨×—×‘×•×ª
            const [popupConfig, setPopupConfig] = useState({
                show: true,
                title: "××‘×¦×¢×™ ×”×©×§×” ×‘×¡×œ×§×•×!",
                badge: "×”×™×•× ××¡×ª×™×™× ×”××‘×¦×¢!",
                badgeColor: "bg-red-600",
                promo1Price: "39",
                promo1Text: "××™× ×˜×¨× ×˜ ×¡×™×‘×™×",
                promo2Price: "89",
                promo2Text: "×˜×¨×™×¤×œ (TV + ××™× ×˜×¨× ×˜)"
            });

            const MY_PHONE_NUMBER = "972532701278"; 
            const ANTENNA_MAP_URL = "https://public.tableau.com/views/_17116609455320/sheet1?%3Alanguage=en-US&publish=yes&%3Asid=&%3Adisplay_count=n&%3Aorigin=viz_share_link%3F%3AshowVizHome&utm_source=go.gov.il&utm_medium=referral";

            // ×˜×¢×™× ×ª Dark Mode
            useEffect(() => {
                const isDark = localStorage.getItem('darkMode') === 'true';
                setDarkMode(isDark);
                if (isDark) document.documentElement.classList.add('dark');
            }, []);

            // ×”×—×œ×¤×ª ××¦×‘ Dark Mode
            const toggleDarkMode = () => {
                const newMode = !darkMode;
                setDarkMode(newMode);
                localStorage.setItem('darkMode', newMode);
                if (newMode) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            };

            // ×˜×¢×™× ×” ×¨××©×•× ×™×ª + Firebase
            useEffect(() => {
                setPlans(initialPlansData);
                setLoading(false);
                
                try {
                    if (db) {
                       // ×˜×¢×™× ×ª ×ª×•×›× ×™×•×ª
                       const unsubscribePlans = db.collection("plans").onSnapshot((snapshot) => {
                            if (!snapshot.empty) {
                                const fetchedPlans = snapshot.docs.map(doc => doc.data());
                                setPlans(fetchedPlans);
                            }
                        });

                        // ×˜×¢×™× ×ª ×”×•×“×¢×•×ª
                        const unsubscribeMessages = db.collection("messages").orderBy('timestamp', 'desc').onSnapshot((snapshot) => {
                            if (!snapshot.empty) {
                                const msgs = snapshot.docs.map(doc => ({id: doc.id, ...doc.data()}));
                                setContactMessages(msgs);
                            }
                        });

                        // ×˜×¢×™× ×ª ×”×’×“×¨×•×ª ×¤×•×¤××¤
                        db.collection("settings").doc("popup").get().then((doc) => {
                            if (doc.exists) {
                                setPopupConfig(doc.data());
                            }
                        });

                        return () => {
                            unsubscribePlans();
                            unsubscribeMessages();
                        };
                    }
                } catch(e) {
                    console.log("Working offline due to error:", e);
                }
            }, []);

            // ×˜×™×™××¨ ×œ×”×¦×’×ª ×”××•×“×¢×”
            useEffect(() => {
                const timer = setTimeout(() => {
                    if (view === 'home' && popupConfig.show) setShowPopup(true);
                }, 2000);
                return () => clearTimeout(timer);
            }, [view, popupConfig.show]);

            // ××™×¤×•×¡ ×¡×™× ×•×Ÿ ×‘××¢×‘×¨ ×§×˜×’×•×¨×™×”
            useEffect(() => {
                setSelectedProvider('all');
            }, [activeCategory]);

            // ×œ×•×’×•××™×
            const logos = {
                Partner: 'https://upload.wikimedia.org/wikipedia/he/2/24/Partner_logo.svg',
                Cellcom: 'https://www.smartcut.co.il/wp-content/uploads/2023/05/cellcome-new-logo-2.png.webp',
                Golan: 'https://tiber.co.il/Content/Catalog/Golan.png',
                WeCom: 'https://we-com.co.il/wp-content/uploads/2023/09/Asset-2.svg',
                Pelephone: 'https://www.logo.wine/a/logo/Pelephone/Pelephone-Logo.wine.svg',
                HotMobile: 'https://www.haboreret.co.il/wp-content/uploads/2017/08/%D7%9C%D7%95%D7%92%D7%95-%D7%94%D7%95%D7%98-%D7%9E%D7%95%D7%91%D7%99%D7%99%D7%9C.png',
                Hot: 'https://www.haboreret.co.il/wp-content/uploads/2017/08/%D7%9C%D7%95%D7%92%D7%95-%D7%94%D7%95%D7%98-%D7%9E%D7%95%D7%91%D7%99%D7%99%D7%9C.png'
            };

            const providerFilters = [
                { id: 'all', name: '×”×›×œ', logo: null },
                { id: 'Partner', name: '×¤×¨×˜× ×¨', logo: logos.Partner },
                { id: 'Pelephone', name: '×¤×œ××¤×•×Ÿ', logo: logos.Pelephone },
                { id: 'Cellcom', name: '×¡×œ×§×•×', logo: logos.Cellcom },
                { id: 'HotMobile', name: '×”×•×˜ ××•×‘×™×™×œ', logo: logos.HotMobile },
                { id: 'Golan', name: '×’×•×œ×Ÿ ×˜×œ×§×•×', logo: logos.Golan },
                { id: 'WeCom', name: 'wecom', logo: logos.WeCom },
            ];

            const categories = [
                { id: '5G', name: '×“×•×¨ 5 (5G)', icon: <Zap size={18} /> },
                { id: '4G', name: '×“×•×¨ 4 (4G)', icon: <Smartphone size={18} /> },
                { id: 'Kosher', name: '×§×• ×›×©×¨', icon: <ShieldCheck size={18} /> },
                { id: 'Fiber', name: '××™× ×˜×¨× ×˜ ×•-TV', icon: <Wifi size={18} /> },
            ];

            const handleLogin = (e) => {
                e.preventDefault();
                if (password === '4030') { 
                    setView('admin');
                    setPassword('');
                    setIsMenuOpen(false);
                } else {
                    alert('×¡×™×¡××” ×©×’×•×™×”');
                }
            };

            // × ×™×”×•×œ ×ª×•×›× ×™×•×ª
            const handleDeletePlan = async (id) => {
                if (confirm('×”×× ×œ××—×•×§ ××ª ×”×ª×•×›× ×™×ª?')) {
                    if (db) db.collection("plans").doc(id.toString()).delete();
                    setPlans(plans.filter(p => p.id !== id));
                }
            };

            const handleSavePlan = async (e) => {
                e.preventDefault();
                const updatedPlan = { ...currentPlan };
                if (typeof updatedPlan.features === 'string') {
                    updatedPlan.features = updatedPlan.features.split('\n').filter(f => f.trim() !== '');
                }
                
                if (db) db.collection("plans").doc(updatedPlan.id.toString()).set(updatedPlan);
                
                if (plans.some(p => p.id === updatedPlan.id)) {
                    setPlans(plans.map(p => p.id === updatedPlan.id ? updatedPlan : p));
                } else {
                    setPlans([...plans, updatedPlan]);
                }
                setIsEditModalOpen(false);
            };

            const handleAddNewPlan = () => {
                setCurrentPlan({
                    id: Date.now().toString(),
                    category: activeCategory,
                    provider: 'Cellcom',
                    providerName: '×ª×•×›× ×™×ª ×—×“×©×”',
                    color: 'bg-gray-500',
                    price: '0',
                    priceDetail: '',
                    features: [],
                    isHot: false
                });
                setIsEditModalOpen(true);
            };

            const handleEditPlan = (plan) => {
                setCurrentPlan(plan);
                setIsEditModalOpen(true);
            };

            // ×©××™×¨×ª ×”×’×“×¨×•×ª ×¤×•×¤××¤
            const handleSavePopupConfig = () => {
                if (db) {
                    db.collection("settings").doc("popup").set(popupConfig);
                }
                alert('×”×’×“×¨×•×ª × ×©××¨×• ×‘×”×¦×œ×—×”');
            };

            // ×©×œ×™×—×ª ×”×•×“×¢×”
            const handleSendMessage = (data) => {
                const newMessage = { ...data, timestamp: Date.now(), read: false };
                if (db) {
                    db.collection("messages").add(newMessage);
                }
                setContactMessages(prev => [newMessage, ...prev]);
            };

            // ××—×™×§×ª ×”×•×“×¢×”
            const handleDeleteMessage = (id) => {
                if (confirm('×œ××—×•×§ ×”×•×“×¢×” ×–×•?')) {
                    if (db) db.collection("messages").doc(id).delete();
                    setContactMessages(prev => prev.filter(m => m.id !== id));
                }
            };

            const handleOrder = (plan) => {
                const text = `×”×™×™ ×œ×œ×•× ×¤×•×Ÿ, ×× ×™ ××¢×•× ×™×™×Ÿ ×œ×”×¦×˜×¨×£ ×œ×ª×•×›× ×™×ª ×”×‘××”:\n*×©× ×”×ª×•×›× ×™×ª:* ${plan.providerName}\n*××—×™×¨:* ${plan.price} â‚ª\n*×¤×™×¨×•×˜ ×”××—×™×¨:* ${plan.priceDetail}\n*××—×™×¨ ×”××©×š:* ${plan.afterPrice || '×œ×œ×'}\n*×§×˜×’×•×¨×™×”:* ${plan.category}`;
                const url = `https://wa.me/${MY_PHONE_NUMBER}?text=${encodeURIComponent(text)}`;
                window.open(url, '_blank');
            };

            const filteredPlans = plans.filter(plan => {
                return (plan.category === activeCategory) && (selectedProvider === 'all' || plan.provider === selectedProvider);
            });

            const showProviderFilter = ['5G', '4G', 'Kosher'].includes(activeCategory);
            const unreadMessagesCount = contactMessages.filter(m => !m.read).length;

            if (view === 'login') {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4 transition-colors duration-300" dir="rtl">
                        <div className="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl w-full max-w-sm">
                            <h2 className="text-2xl font-bold mb-6 text-center text-gray-800 dark:text-white">×›× ×™×¡×” ×œ×× ×”×œ×™×</h2>
                            <form onSubmit={handleLogin} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">×¡×™×¡××”</label>
                                    <input type="password" value={password} onChange={(e) => setPassword(e.target.value)} className="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none dark:bg-gray-700 dark:text-white" placeholder="×”×›× ×¡ ×¡×™×¡××”" />
                                </div>
                                <div className="flex gap-2">
                                    <button type="submit" className="flex-1 bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700">×”×ª×—×‘×¨</button>
                                    <button type="button" onClick={() => setView('home')} className="flex-1 bg-gray-200 dark:bg-gray-700 dark:text-gray-300 text-gray-800 py-3 rounded-lg font-bold hover:bg-gray-300">×‘×™×˜×•×œ</button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            }

            if (loading && plans.length === 0) {
                 return <div className="min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 text-blue-600"><Loader size={48} /><div className="mt-4 font-bold dark:text-white">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div></div>;
            }

            return (
                <div className="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-sans relative transition-colors duration-300" dir="rtl">
                    
                    <ContactModal isOpen={isContactOpen} onClose={() => setIsContactOpen(false)} onSend={handleSendMessage} />
                    
                    {/* Popup - ×›×¢×ª ×“×™× ××™ */}
                    {showPopup && view === 'home' && popupConfig.show && (
                        <div className="fixed inset-0 z-[60] flex items-end sm:items-center justify-center pointer-events-none">
                            <div className="absolute inset-0 bg-black/60 transition-opacity pointer-events-auto" onClick={() => setShowPopup(false)}></div>
                            <div className="relative w-full sm:max-w-md bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl shadow-2xl p-6 pointer-events-auto pop-up overflow-hidden">
                                <button onClick={() => setShowPopup(false)} className="absolute top-3 left-3 p-2 bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors z-10"><XIcon size={20} /></button>
                                <div className="text-center relative z-10">
                                    <div className={`${popupConfig.badgeColor || 'bg-red-600'} text-white text-sm font-black py-2 px-4 rounded-full mb-4 inline-block shadow-lg pulse-red flex items-center justify-center gap-2 mx-auto w-fit`}>
                                        <Clock size={16} />{popupConfig.badge}
                                    </div>
                                    <div className="inline-block p-3 bg-purple-100 dark:bg-purple-900 rounded-full mb-3 text-purple-600 dark:text-purple-300"><Zap size={32} /></div>
                                    <h3 className="text-2xl font-black text-gray-900 dark:text-white mb-1">{popupConfig.title}</h3>
                                    <div className="space-y-3 mb-6 mt-4">
                                        <div className="bg-purple-50 dark:bg-gray-700 border border-purple-100 dark:border-gray-600 p-3 rounded-xl flex items-center gap-3 text-right">
                                            <div className="bg-purple-600 text-white p-2 rounded-lg font-bold text-lg min-w-[60px] text-center">{popupConfig.promo1Price}â‚ª</div>
                                            <div><div className="font-bold text-gray-900 dark:text-white">{popupConfig.promo1Text}</div><div className="text-xs text-gray-500 dark:text-gray-400">×œ×—×•×“×© (×œ-3 ×—×•×“×©×™×)</div></div>
                                        </div>
                                        <div className="bg-blue-50 dark:bg-gray-700 border border-blue-100 dark:border-gray-600 p-3 rounded-xl flex items-center gap-3 text-right">
                                            <div className="bg-blue-600 text-white p-2 rounded-lg font-bold text-lg min-w-[60px] text-center">{popupConfig.promo2Price}â‚ª</div>
                                            <div><div className="font-bold text-gray-900 dark:text-white">{popupConfig.promo2Text}</div><div className="text-xs text-gray-500 dark:text-gray-400">×œ×—×•×“×© (×œ-3 ×—×•×“×©×™×)</div></div>
                                        </div>
                                    </div>
                                    <button onClick={() => { setActiveCategory('Fiber'); setShowPopup(false); window.scrollTo({ top: 0, behavior: 'smooth' }); }} className="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-purple-200 dark:shadow-none active:scale-95 transition-all flex items-center justify-center gap-2">×œ×¤×¨×˜×™× × ×•×¡×¤×™× ×•×”×¦×˜×¨×¤×•×ª<Wifi size={18} /></button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Edit Plan Modal */}
                    {isEditModalOpen && (
                        <div className="fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 overflow-y-auto backdrop-blur-sm">
                            <div className="bg-white dark:bg-gray-800 rounded-2xl w-full max-w-lg p-6 relative my-auto">
                                <h3 className="text-xl font-bold mb-4 dark:text-white">{currentPlan.id && plans.find(p => p.id === currentPlan.id) ? '×¢×¨×™×›×ª ×ª×•×›× ×™×ª' : '×”×•×¡×¤×ª ×ª×•×›× ×™×ª ×—×“×©×”'}</h3>
                                <form onSubmit={handleSavePlan} className="space-y-4">
                                    <div><label className="block text-sm font-medium dark:text-gray-300">×©× ×”×ª×•×›× ×™×ª</label><input required type="text" className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.providerName} onChange={e => setCurrentPlan({...currentPlan, providerName: e.target.value})} /></div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div><label className="block text-sm font-medium dark:text-gray-300">××—×™×¨</label><input required type="text" className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.price} onChange={e => setCurrentPlan({...currentPlan, price: e.target.value})} /></div>
                                        <div><label className="block text-sm font-medium dark:text-gray-300">×—×‘×¨×”</label><select className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.provider} onChange={e => setCurrentPlan({...currentPlan, provider: e.target.value})}>{Object.keys(logos).map(k => <option key={k} value={k}>{k}</option>)}</select></div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <select className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.color} onChange={e => setCurrentPlan({...currentPlan, color: e.target.value})}><option value="bg-purple-700">×¡×’×•×œ (×¡×œ×§×•×)</option><option value="bg-blue-500">×›×—×•×œ (×¤×œ××¤×•×Ÿ)</option><option value="bg-teal-500">×˜×•×¨×§×™×– (×¤×¨×˜× ×¨)</option><option value="bg-red-600">××“×•× (×”×•×˜)</option><option value="bg-pink-600">×•×¨×•×“ (×’×•×œ×Ÿ)</option><option value="bg-orange-500">×›×ª×•× (Wecom)</option><option value="bg-gray-800">×©×—×•×¨</option></select>
                                        <select className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.category} onChange={e => setCurrentPlan({...currentPlan, category: e.target.value})}><option value="5G">×“×•×¨ 5</option><option value="4G">×“×•×¨ 4</option><option value="Kosher">×›×©×¨</option><option value="Fiber">×¡×™×‘×™×/TV</option></select>
                                    </div>
                                    <input type="text" className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.priceDetail} onChange={e => setCurrentPlan({...currentPlan, priceDetail: e.target.value})} placeholder="×¤×¨×˜×™ ××—×™×¨" />
                                    <input type="text" className="w-full border rounded p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={currentPlan.afterPrice || ''} onChange={e => setCurrentPlan({...currentPlan, afterPrice: e.target.value})} placeholder="××—×™×¨ ×”××©×š" />
                                    <textarea className="w-full border rounded p-2 h-24 dark:bg-gray-700 dark:border-gray-600 dark:text-white" value={Array.isArray(currentPlan.features) ? currentPlan.features.join('\n') : currentPlan.features} onChange={e => setCurrentPlan({...currentPlan, features: e.target.value})} placeholder="×¤×™×¨×•×˜"></textarea>
                                    <label className="flex items-center gap-2 dark:text-gray-300"><input type="checkbox" checked={currentPlan.isHot} onChange={e => setCurrentPlan({...currentPlan, isHot: e.target.checked})} /> ××‘×¦×¢ ×—×</label>
                                    <div className="flex gap-3 mt-6"><button type="submit" className="flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold">×©××•×¨</button><button type="button" onClick={() => setIsEditModalOpen(false)} className="flex-1 bg-gray-200 dark:bg-gray-700 dark:text-white text-gray-800 py-2 rounded-lg font-bold">×‘×™×˜×•×œ</button></div>
                                </form>
                            </div>
                        </div>
                    )}

                    <header className={`bg-white dark:bg-gray-900 shadow-sm sticky top-0 z-50 transition-colors duration-300 ${view === 'admin' ? 'border-b-4 border-red-500' : ''}`}>
                        <div className="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <div className="w-11 h-11 bg-gradient-to-tr from-blue-700 to-cyan-500 rounded-full flex items-center justify-center text-white shadow-md"><PhoneCall size={22} strokeWidth={2.5} /></div>
                                <div><h1 className="text-2xl font-black leading-none text-blue-800 dark:text-blue-400 tracking-tight">×œ×œ×•× ×¤×•×Ÿ</h1><p className="text-sm font-medium text-gray-500 dark:text-gray-400">{view === 'admin' ? '×××©×§ × ×™×”×•×œ ××ª×§×“×' : '×”×ª×§×©×•×¨×ª ×©×œ×š, ×‘××—×™×¨ ×©×œ×š'}</p></div>
                            </div>
                            <div className="flex items-center gap-3">
                                {/* Dark Mode Toggle */}
                                <button onClick={toggleDarkMode} className="p-2 bg-gray-100 dark:bg-gray-800 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-yellow-400">
                                    {darkMode ? <SunIcon size={20} /> : <MoonIcon size={20} />}
                                </button>
                                
                                {view === 'home' && (
                                    <a href={ANTENNA_MAP_URL} target="_blank" rel="noreferrer" className="flex items-center gap-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 px-3 py-1.5 rounded-full text-xs font-bold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors border border-blue-200 dark:border-blue-800">
                                        <Signal size={16} /><span className="hidden sm:inline">×œ××™×ª×•×¨ ×× ×˜× ×”</span><span className="inline sm:hidden">×× ×˜× ×”</span>
                                    </a>
                                )}
                                <div className="relative">
                                    <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full relative z-50">{isMenuOpen ? <XIcon /> : <MenuIcon />}</button>
                                    {isMenuOpen && (
                                        <div className="absolute top-12 left-0 w-48 bg-white dark:bg-gray-800 shadow-xl rounded-xl overflow-hidden border border-gray-100 dark:border-gray-700 z-40">
                                            <div className="py-1">
                                                {view === 'admin' ? (
                                                    <button onClick={() => { setView('home'); setIsMenuOpen(false); }} className="block w-full text-right px-4 py-2 text-sm text-red-600 hover:bg-red-50 font-bold">×™×¦×™××” ××××©×§ × ×™×”×•×œ</button>
                                                ) : (
                                                    <>
                                                        <a href="#" onClick={() => setIsMenuOpen(false)} className="block w-full text-right px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700">×“×£ ×”×‘×™×ª</a>
                                                        <button onClick={() => { setIsContactOpen(true); setIsMenuOpen(false); }} className="block w-full text-right px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700">×¦×•×¨ ×§×©×¨</button>
                                                        <button onClick={() => { setView('login'); setIsMenuOpen(false); }} className="block w-full text-right px-4 py-2 text-sm text-blue-600 dark:text-blue-400 font-bold hover:bg-blue-50 dark:hover:bg-gray-700">×›× ×™×¡×” ×œ×× ×”×œ×™×</button>
                                                    </>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                        {view === 'home' && (
                            <div className="border-t border-gray-100 dark:border-gray-800 overflow-x-auto bg-white/95 dark:bg-gray-900/95 backdrop-blur scrollbar-hide">
                                <div className="max-w-6xl mx-auto px-4 flex gap-3 py-3 min-w-max">
                                    {categories.map((cat) => (
                                        <button key={cat.id} onClick={() => setActiveCategory(cat.id)} className={`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm whitespace-nowrap ${activeCategory === cat.id ? 'bg-blue-700 text-white shadow-blue-200/50 scale-[1.03]' : 'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300'}`}>{cat.icon}{cat.name}</button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </header>

                    {/* ×××©×§ × ×™×”×•×œ ××ª×§×“× */}
                    {view === 'admin' && (
                        <div className="bg-white dark:bg-gray-900 min-h-screen">
                            {/* ×¡×¨×’×œ × ×™×•×•×˜ × ×™×”×•×œ */}
                            <div className="bg-red-50 dark:bg-gray-800 border-b border-red-200 dark:border-gray-700 px-4 py-3 sticky top-[72px] z-40">
                                <div className="max-w-6xl mx-auto flex gap-4 overflow-x-auto scrollbar-hide">
                                    <button onClick={() => setAdminTab('plans')} className={`px-4 py-2 rounded-lg text-sm font-bold transition-colors whitespace-nowrap ${adminTab === 'plans' ? 'bg-red-600 text-white' : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-red-100'}`}>
                                        × ×™×”×•×œ ×ª×•×›× ×™×•×ª
                                    </button>
                                    <button onClick={() => setAdminTab('messages')} className={`px-4 py-2 rounded-lg text-sm font-bold transition-colors whitespace-nowrap flex items-center gap-2 ${adminTab === 'messages' ? 'bg-red-600 text-white' : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-red-100'}`}>
                                        ×”×•×“×¢×•×ª ××œ×§×•×—×•×ª
                                        {unreadMessagesCount > 0 && <span className="bg-white text-red-600 text-xs px-2 py-0.5 rounded-full">{unreadMessagesCount}</span>}
                                    </button>
                                    <button onClick={() => setAdminTab('popup')} className={`px-4 py-2 rounded-lg text-sm font-bold transition-colors whitespace-nowrap flex items-center gap-2 ${adminTab === 'popup' ? 'bg-red-600 text-white' : 'bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-red-100'}`}>
                                        <SettingsIcon size={16} /> ×”×’×“×¨×•×ª ××•×“×¢×”
                                    </button>
                                </div>
                            </div>

                            <div className="max-w-6xl mx-auto p-4 md:p-6">
                                {/* ×œ×©×•× ×™×ª × ×™×”×•×œ ×ª×•×›× ×™×•×ª */}
                                {adminTab === 'plans' && (
                                    <>
                                        <div className="flex justify-between items-center mb-6">
                                            <h2 className="text-xl font-bold dark:text-white">×¨×©×™××ª ×ª×•×›× ×™×•×ª ({activeCategory})</h2>
                                            <button onClick={handleAddNewPlan} className="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2"><PlusIcon size={16} /> ×”×•×¡×£ ×ª×•×›× ×™×ª</button>
                                        </div>
                                        
                                        {/* ×§×˜×’×•×¨×™×•×ª ×œ×¡×™× ×•×Ÿ ×‘× ×™×”×•×œ */}
                                        <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
                                            {categories.map((cat) => (
                                                <button key={cat.id} onClick={() => setActiveCategory(cat.id)} className={`px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap ${activeCategory === cat.id ? 'bg-gray-800 text-white' : 'bg-gray-200 text-gray-700'}`}>{cat.name}</button>
                                            ))}
                                        </div>

                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                            {filteredPlans.map((plan) => (
                                                <div key={plan.id} className="relative bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl p-4 shadow-sm flex flex-col gap-2 group">
                                                    <div className="absolute top-2 left-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        <button onClick={() => handleEditPlan(plan)} className="p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200"><EditIcon size={16}/></button>
                                                        <button onClick={() => handleDeletePlan(plan.id)} className="p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200"><TrashIcon size={16}/></button>
                                                    </div>
                                                    <div className="font-bold text-lg dark:text-white">{plan.providerName}</div>
                                                    <div className="text-xl font-black text-blue-600">{plan.price} â‚ª</div>
                                                    <div className="text-sm text-gray-500">{plan.features[0]}</div>
                                                    <div className="mt-auto pt-2 text-xs text-gray-400 border-t dark:border-gray-700">{plan.provider}</div>
                                                </div>
                                            ))}
                                        </div>
                                    </>
                                )}

                                {/* ×œ×©×•× ×™×ª ×”×•×“×¢×•×ª */}
                                {adminTab === 'messages' && (
                                    <div className="max-w-4xl mx-auto">
                                        <h2 className="text-2xl font-bold mb-6 dark:text-white">×”×•×“×¢×•×ª × ×›× ×¡×•×ª ({contactMessages.length})</h2>
                                        <div className="space-y-4">
                                            {contactMessages.length === 0 && <div className="text-center py-10 text-gray-400">××™×Ÿ ×”×•×“×¢×•×ª ×—×“×©×•×ª</div>}
                                            {contactMessages.map((msg) => (
                                                <div key={msg.id || Math.random()} className={`bg-white dark:bg-gray-800 p-5 rounded-xl border-r-4 shadow-sm flex flex-col md:flex-row justify-between gap-4 ${msg.read ? 'border-gray-300' : 'border-green-500'}`}>
                                                    <div className="flex-1">
                                                        <div className="flex items-center gap-2 mb-1">
                                                            <span className="font-bold text-lg dark:text-white">{msg.name}</span>
                                                            <span className="text-sm text-gray-500">{msg.date}</span>
                                                        </div>
                                                        <div className="text-blue-600 font-bold mb-2">{msg.phone}</div>
                                                        <div className="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg text-gray-700 dark:text-gray-300 text-sm">
                                                            {msg.message || "××™×Ÿ ×ª×•×›×Ÿ ×”×•×“×¢×”"}
                                                        </div>
                                                    </div>
                                                    <div className="flex flex-row md:flex-col gap-2 justify-center">
                                                        <a href={`https://wa.me/972${msg.phone.replace(/^0/, '')}`} target="_blank" className="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-sm">
                                                            <MessageCircle size={16} /> ×•×•××˜×¡××¤
                                                        </a>
                                                        <a href={`tel:${msg.phone}`} className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-sm">
                                                            <PhoneCall size={16} /> ×—×™×™×’
                                                        </a>
                                                        <button onClick={() => handleDeleteMessage(msg.id)} className="bg-red-100 hover:bg-red-200 text-red-600 px-4 py-2 rounded-lg font-bold flex items-center justify-center gap-2 text-sm">
                                                            <TrashIcon size={16} /> ××—×§
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* ×œ×©×•× ×™×ª ×¢×¨×™×›×ª ××•×“×¢×” */}
                                {adminTab === 'popup' && (
                                    <div className="max-w-2xl mx-auto bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border dark:border-gray-700">
                                        <h2 className="text-2xl font-bold mb-6 dark:text-white border-b pb-4 dark:border-gray-700">×”×’×“×¨×•×ª ××•×“×¢×” ×§×•×¤×¦×ª (Popup)</h2>
                                        
                                        <div className="flex items-center gap-3 mb-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-xl">
                                            <input 
                                                type="checkbox" 
                                                id="showPopup" 
                                                className="w-6 h-6 accent-red-600"
                                                checked={popupConfig.show} 
                                                onChange={(e) => setPopupConfig({...popupConfig, show: e.target.checked})} 
                                            />
                                            <label htmlFor="showPopup" className="font-bold text-lg cursor-pointer dark:text-white">×”×¤×¢×œ ××•×“×¢×” ×§×•×¤×¦×ª ×‘××ª×¨</label>
                                        </div>

                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-bold mb-1 dark:text-gray-300">×›×•×ª×¨×ª ×¨××©×™×ª</label>
                                                <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.title} onChange={e => setPopupConfig({...popupConfig, title: e.target.value})} />
                                            </div>
                                            
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-bold mb-1 dark:text-gray-300">×˜×§×¡×˜ ×ª×’×™×ª (Badge)</label>
                                                    <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.badge} onChange={e => setPopupConfig({...popupConfig, badge: e.target.value})} />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold mb-1 dark:text-gray-300">×¦×‘×¢ ×ª×’×™×ª</label>
                                                    <select className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.badgeColor} onChange={e => setPopupConfig({...popupConfig, badgeColor: e.target.value})}>
                                                        <option value="bg-red-600">××“×•×</option>
                                                        <option value="bg-blue-600">×›×—×•×œ</option>
                                                        <option value="bg-green-600">×™×¨×•×§</option>
                                                        <option value="bg-purple-600">×¡×’×•×œ</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div className="border-t pt-4 mt-4 dark:border-gray-700">
                                                <h3 className="font-bold mb-3 dark:text-gray-200">××‘×¦×¢ 1 (×¢×œ×™×•×Ÿ)</h3>
                                                <div className="grid grid-cols-3 gap-4">
                                                    <div className="col-span-1">
                                                        <label className="text-xs">××—×™×¨</label>
                                                        <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.promo1Price} onChange={e => setPopupConfig({...popupConfig, promo1Price: e.target.value})} />
                                                    </div>
                                                    <div className="col-span-2">
                                                        <label className="text-xs">×ª×™××•×¨</label>
                                                        <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.promo1Text} onChange={e => setPopupConfig({...popupConfig, promo1Text: e.target.value})} />
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="border-t pt-4 mt-4 dark:border-gray-700">
                                                <h3 className="font-bold mb-3 dark:text-gray-200">××‘×¦×¢ 2 (×ª×—×ª×•×Ÿ)</h3>
                                                <div className="grid grid-cols-3 gap-4">
                                                    <div className="col-span-1">
                                                        <label className="text-xs">××—×™×¨</label>
                                                        <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.promo2Price} onChange={e => setPopupConfig({...popupConfig, promo2Price: e.target.value})} />
                                                    </div>
                                                    <div className="col-span-2">
                                                        <label className="text-xs">×ª×™××•×¨</label>
                                                        <input type="text" className="w-full p-2 border rounded dark:bg-gray-600 dark:text-white" value={popupConfig.promo2Text} onChange={e => setPopupConfig({...popupConfig, promo2Text: e.target.value})} />
                                                    </div>
                                                </div>
                                            </div>

                                            <button onClick={handleSavePopupConfig} className="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl mt-6">×©××•×¨ ×©×™× ×•×™×™×</button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* ×“×£ ×”×‘×™×ª */}
                    {!isEditModalOpen && view === 'home' && (
                        <main className="max-w-6xl mx-auto px-4 pb-32 mt-6">
                            {showProviderFilter && (
                                <div className="mb-8 overflow-x-auto pb-4 scrollbar-hide">
                                    <div className="flex gap-4 min-w-max px-1">
                                        {providerFilters.map((prov) => (
                                            <button key={prov.id} onClick={() => setSelectedProvider(prov.id)} className={`group flex flex-col items-center gap-2 transition-all ${selectedProvider === prov.id ? 'scale-110 opacity-100' : 'opacity-70 hover:opacity-100 hover:scale-105'}`}>
                                                <div className={`w-16 h-16 rounded-full bg-white dark:bg-gray-800 shadow-md border-2 flex items-center justify-center p-2 overflow-hidden transition-colors ${selectedProvider === prov.id ? 'border-blue-500 ring-2 ring-blue-200 dark:ring-blue-900' : 'border-gray-100 dark:border-gray-700'}`}>{prov.logo ? <SmartLogo src={prov.logo} alt={prov.name} fallbackText={prov.name} /> : <Layers size={24} className="text-gray-400" />}</div>
                                                <span className={`text-xs font-bold ${selectedProvider === prov.id ? 'text-blue-700 dark:text-blue-400' : 'text-gray-500 dark:text-gray-400'}`}>{prov.name}</span>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )}

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 fade-in">
                                {filteredPlans.map((plan) => (
                                    <div key={plan.id} className={`group bg-white dark:bg-gray-800 rounded-2xl border ${view === 'admin' ? 'border-red-200 dark:border-red-900' : 'border-gray-200/60 dark:border-gray-700'} shadow-sm hover:shadow-xl dark:shadow-black/50 transition-all duration-300 flex flex-col overflow-hidden relative`}>
                                        {plan.isHot && <div className="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-br-xl z-10 shadow-sm uppercase tracking-wider">ğŸ”¥ ×”×›×™ × ××›×¨</div>}
                                        {plan.badge && <div className="absolute top-0 right-0 bg-yellow-400 text-blue-900 text-xs font-bold px-3 py-1.5 rounded-bl-xl z-10 shadow-sm uppercase tracking-wider">{plan.badge}</div>}
                                        <div className="absolute top-4 right-4 z-20 w-12 h-12 bg-white dark:bg-gray-700 rounded-full p-2 shadow-lg flex items-center justify-center overflow-hidden"><SmartLogo src={logos[plan.provider]} alt={plan.provider} fallbackText={plan.provider} /></div>
                                        <div className={`${plan.color} p-5 text-white text-center relative overflow-hidden`}>
                                            <div className="absolute top-0 left-0 w-full h-full bg-black opacity-10 mix-blend-overlay"></div>
                                            <div className="relative z-10">
                                                <h3 className="text-xl font-bold opacity-95 tracking-tight">{plan.providerName}</h3>
                                                <div className="flex justify-center items-baseline gap-1 mt-2"><span className="text-5xl font-extrabold tracking-tight leading-none">{plan.price}</span><span className="text-2xl font-medium">â‚ª</span></div>
                                                <p className="text-sm opacity-90 mt-1 font-medium">{plan.priceDetail}</p>
                                            </div>
                                        </div>
                                        <div className="p-6 flex-grow flex flex-col justify-between bg-gradient-to-b from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-800/50">
                                            <ul className="space-y-3.5 mb-8">
                                                {plan.features.map((feature, idx) => (
                                                    <li key={idx} className="flex items-start gap-3 text-sm text-gray-700 dark:text-gray-300">
                                                        <div className="mt-0.5 bg-blue-100/50 dark:bg-blue-900/30 p-1 rounded-full text-blue-600 dark:text-blue-400 flex-shrink-0"><Check size={14} strokeWidth={3} /></div>
                                                        <span className="font-medium leading-snug">{feature}</span>
                                                    </li>
                                                ))}
                                                {plan.afterPrice && (
                                                    <li className="flex items-start gap-3 text-sm text-gray-500 dark:text-gray-400 mt-3 border-t pt-3 border-gray-100 dark:border-gray-700 border-dashed">
                                                        <div className="mt-0.5 p-1 flex-shrink-0"><span className="text-xs font-bold bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-200 rounded-full w-4 h-4 flex items-center justify-center">i</span></div>
                                                        <span className="leading-snug font-medium">{plan.afterPrice}</span>
                                                    </li>
                                                )}
                                            </ul>
                                            <button onClick={() => handleOrder(plan)} className="w-full bg-blue-700 hover:bg-green-600 text-white font-bold py-4 px-4 rounded-xl flex items-center justify-center gap-2.5 transition-all shadow-md hover:shadow-lg active:scale-[0.98] cursor-pointer">
                                                <MessageCircle size={20} strokeWidth={2.5} />
                                                <span className="text-lg">×× ×™ ×¨×•×¦×” ××ª ×–×”</span>
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                            
                            {filteredPlans.length === 0 && (
                                <div className="text-center py-24 text-gray-400 dark:text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700 fade-in">
                                    <p className="text-lg font-medium">×œ× × ××¦××• ×ª×•×›× ×™×•×ª ×¢×‘×•×¨ ×”×¡×¤×§ ×©× ×‘×—×¨.</p>
                                    <p className="text-sm mt-2">× ×¡×• ×œ×‘×—×•×¨ "×”×›×œ" ××• ×—×‘×¨×” ××—×¨×ª.</p>
                                </div>
                            )}
                        </main>
                    )}

                    {/* ×‘×•×˜ AI */}
                    {view === 'home' && <AIChatBot plans={plans} />}

                    {/* ×›×¤×ª×•×¨×™ ×™×¦×™×¨×ª ×§×©×¨ ×¦×¤×™× */}
                    {view === 'home' && (
                        <div className="fixed bottom-6 left-6 z-50 flex flex-col gap-3">
                            <button onClick={() => setIsContactOpen(true)} className="bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 text-white w-14 h-14 rounded-full shadow-xl flex items-center justify-center transition-transform hover:scale-105">
                                <MailIcon size={24} />
                            </button>
                            
                            <a href={`https://wa.me/${MY_PHONE_NUMBER}`} target="_blank" rel="noreferrer" className="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition-transform hover:scale-105 flex items-center gap-3 group">
                                <MessageCircle size={28} fill="white" className="text-green-500 animate-pulse" />
                                <span className="font-bold hidden md:inline text-lg pr-1 group-hover:pr-2 transition-all">×“×‘×¨×• ××™×ª× ×• ×‘×•×•××˜×¡××¤</span>
                            </a>
                        </div>
                    )}

                    {view === 'home' && (
                        <footer className="bg-gray-900 dark:bg-black text-gray-400 py-10 text-center text-sm mt-auto">
                            <div className="mb-4 flex items-center justify-center gap-2 opacity-75">
                                <PhoneCall size={18} />
                                <span className="font-bold text-lg">×œ×œ×•× ×¤×•×Ÿ</span>
                            </div>
                            <p>Â© 2024 ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª.</p>
                            <button onClick={() => setIsContactOpen(true)} className="mt-4 text-blue-400 hover:text-blue-300 underline">×¦×•×¨ ×§×©×¨ ×‘××ª×¨</button>
                            <p className="mt-3 text-xs opacity-50 max-w-md mx-auto leading-relaxed">×”××—×™×¨×™× ×•×”××‘×¦×¢×™× ×‘××—×¨×™×•×ª ×”×¡×¤×§×™× ×•× ×ª×•× ×™× ×œ×©×™× ×•×™ ×‘×”×ª×× ×œ×ª×§× ×•×Ÿ ×”×—×‘×¨×•×ª. ×˜.×œ.×—</p>
                        </footer>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>


